let data = [
    {
        'id' : 0,
        'title':'Antigua y Barbuda',
        'lat': 17.087635,
        'lon': -61.772346,
        'img': '<img src="images/antigua.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 1,
        'title':'Arizona',
        'lat': 34.048927,
        'lon': -111.09373,
        'img': '<img src="images/ari.jpeg" width="100" height="50"/>'

    },
    {
        'id' : 2,
        'title':'Mexico',
        'lat': 23.634501,
        'lon': -102.552784,
        'img': '<img src="images/mex.jpeg" width="100" height="50"/>'
        
    },
    {
        'id' : 3,
        'title':'California',
        'lat': 36.778259,
        'lon': -119.417931,
        'img': '<img src="images/cali.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 4,
        'title':'Nuevo Mexico',
        'lat': 34.307144,
        'lon': -106.018066,
        'img': '<img src="images/nuevomex.jpeg" width="100" height="50"/>'
    },
    
    {
        'id' : 5,
        'title':'Texas',
        'lat': 31.0000,
        'lon': -100.00000,
        'img': '<img src="images/tex.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 6,
        'title':'Nevada',
        'lat': 39.876019,
        'lon': -117.224121,
        'img': '<img src="images/nevada.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 7,
        'title':'Florida',
        'lat': 27.994402,
        'lon': -81.760254,
        'img': '<img src="images/florid.jpeg" width="100" height="50"/>'
    },
    {
        'title':'Utah',
        'lat': 39.419220,
        'lon': -111.950684,
        'img': '<img src="images/UTAH.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 8,
        'title':'Colorado',
        'lat': 39.113014,
        'lon': -105.358887,
        'img': '<img src="images/colorado.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 9,
        'title':'Wyoming',
        'lat': 43.075970,
        'lon': -107.290283,
        'img': '<img src="images/wyoming.png" width="100" height="50"/>'
    },
    {
        'id' : 10,
        'title':'Kansas',
        'lat': 38.500000,
        'lon': -98.000000,
        'img': '<img src="images/kansas.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 11,
        'title':'Oklahoma',
        'lat': 36.084621,
        'lon': -96.921387,
        'img': '<img src="images/okla.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 12,
        'title':'Guatemala',
        'lat': 14.628434,
        'lon': -90.522713,
        'img': '<img src="images/guatemala.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 13,
        'title':'El Salvador',
        'lat': 13.8030,
        'lon': -88.9053,
        'img': '<img src="images/salv.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 14,
        'title':'Nicaragua',
        'lat': 12.136389,
        'lon': - 86.251389,
        'img': '<img src="images/nicaragua.jpeg" width="100" height="50"/>'
    },
    {
        'id' :15,
        'title':'Honduras',
        'lat': 14.081999,
        'lon': -87.202438,
        'img': '<img src="images/hond.jpeg" width="100" height="50"/>'
    },
    {
        'id' :16,
        'title':'Costa Rica',
        'lat': 9.934739,
        'lon': - 84.087502,
        'img': '<img src="images/cr.jpeg" width="100" height="50"/>'
    },
    {
        'id' :17,
        'title':'Louisiana',
        'lat': 30.391830,
        'lon': -92.329102,
        'img': '<img src="images/louisiana.jpeg" width="100" height="50"/>'
    },
    {
        'id' :18,
        'title':'Arkansas',
        'lat': 34.799999,
        'lon': -92.199997,
        'img': '<img src="images/arkansas.jpeg" width="100" height="50"/>'
    },
    {
        'id' :19,
        'title':'Nebraska',
        'lat': 41.500000,
        'lon': -100.000000,
        'img': '<img src="images/nebraska.jpg" width="100" height="50"/>'
    },
    {
        'id' :20,
        'title':'North Dakota',
        'lat': 47.650589,
        'lon': -100.437012,
        'img': '<img src="images/northdakota.jpeg" width="100" height="50"/>'
    },
    {
        'id' :21,
        'title':'South Dakota',
        'lat': 44.500000,
        'lon': -100.000000,
        'img': '<img src="images/northdakota.jpeg" width="100" height="50"/>'
    },
    {
        'id' :22,
        'title':'Montana',
        'lat': 46.965260,
        'lon': -109.533691,
        'img': '<img src="images/montana.jpeg" width="100" height="50"/>'
    },
    {
        'id' :23,
        'title':'Idaho',
        'lat': 44.068203,
        'lon': -114.742043,
        'img': '<img src="images/minnesota.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 24,
        'title':'Minnesota',
        'lat': 46.392410,
        'lon': -94.636230,
        'img': '<img src="images/minnesota.jpeg" width="100" height="50"/>'
    },
    {
        'id' :25,
        'title':'Missouri',
        'lat': 38.573936,
        'lon': -92.603760,
        'img': '<img src="images/missouri.jpeg" width="100" height="50"/>'
    },
    {
        'id' :26,
        'title':'Iowa',
        'lat': 41.619549,
        'lon': - 93.598022,
        'img': '<img src="images/missouri.jpeg" width="100" height="50"/>'
    },
    {
        'id' :27,
        'title':'Venezuela',
        'lat': 10.500000,
        'lon': - 66.916664,
        'img': '<img src="images/venezuela.jpeg" width="100" height="50"/>'
    },
    {
        'id' :28,
        'title':'Guyana',
        'lat': 6.8045,
        'lon': -58.1553,
        'img': '<img src="images/trinidad.jpeg" width="100" height="50"/>'
    },
    {
        'id' :29,
        'title':'Trinidad y Tobago',
        'lat': 10.536421,
        'lon': -61.311951,
        'img': '<img src="images/trinidadytob.jpeg" width="100" height="50"/>'
    },
    {
        'id' :30,
        'title':'Colombia',
        'lat': 4.624335,
        'lon': -74.063644,
        'img': '<img src="images/colombia.jpeg" width="100" height="50"/>'
    },
    {
        'id' :31,
        'title':'Panama',
        'lat': 8.983333,
        'lon': - 79.516670,
        'img': '<img src="images/panama.jpeg" width="100" height="50"/>'
    },
    {
        'id' :32,
        'title':'Ecuador',
        'lat': -0.180653,
        'lon': -78.467834,
        'img': '<img src="images/ecuador.jpeg" width="100" height="50"/>'
    },
    {
        'id' :33,
        'title':'Peru',
        'lat': -12.046374,
        'lon': -77.042793,
        'img': '<img src="images/peru.jpeg" width="100" height="50"/>'
    },
    {
        'id' :34,
        'title':'Bolivia',
        'lat':  -17.413977,
        'lon': - 66.165321,
        'img': '<img src="images/bolivia.jpeg" width="100" height="50"/>'
    },
    {
        'id' :35,
        'title':'Chile',
        'lat': -33.447487,
        'lon': -70.673676,
        'img': '<img src="images/chile.jpeg" width="100" height="50"/>'
    },
    {
        'id' :36,
        'title':'Brasil',
        'lat': -23.533773,
        'lon': - 46.625290,
        'img': '<img src="images/brasil.jpeg" width="100" height="50"/>'
    },
    {
        'id' :37,
        'title':'Argetina',
        'lat': -34.603722,
        'lon': -58.381592,
        'img': '<img src="images/arg.jpeg" width="100" height="50"/>'
    },
    {
        'id' :38,
        'title':'Uruguay',
        'lat': -34.901112,
        'lon': -56.164532,
        'img': '<img src="images/uru.jpeg" width="100" height="50"/>'
    },
    {
        'id' :39,
        'title':'Paraguay',
        'lat': -25.3007,
        'lon': -57.6359,
        'img': '<img src="images/paraguay.jpeg" width="100" height="50"/>'
    },
    {
        'id' :40,
        'title':'Chile',
        'lat': -33.447487,
        'lon': -70.673676,
        'img': '<img src="images/chile.jpeg" width="100" height="50"/>'
    },
    {
        'id' :41,
        'title':'Cuba',
        'lat': 23.113592,
        'lon': -82.366592,
        'img': '<img src="images/cuba.jpg" width="100" height="50"/>'
    },
    {
        'id' :42,
        'title':'Puerto Rico',
        'lat': 18.46633000,
        'lon': -66.10572000,
        'img': '<img src="images/dr.jpeg" width="100" height="50"/>'
    },
    {
        'id' : 43,
        'title':'Dominican Republic',
        'lat': 18.483402,
        'lon': -69.929611,
        'img': '<img src="images/dr.jpeg" width="100" height="50"/>'
    },
    {
        'id' :44,
        'title':'Bahamas',
        'lat': 25.025885,
        'lon': -78.035889,
        'img': '<img src="images/bah.jpeg" width="100" height="50"/>'
    },
    
    {
        'id' :45,
        'title':'Trinidad y Tobago',
        'lat': 10.536421,
        'lon': -61.311951,
        'img': '<img src="images/trinidadytob.jpeg" width="100" height="50"/>'
    },
    {
        'id' :46,
        'title':'Grenada',
        'lat': 12.104818,
        'lon': -61.670761,
        'img': '<img src="images/granada.jpeg" width="100" height="50"/>'
    },
    {
        'id' :47,
        'title':'Jamaica',
        'lat': 18.1155,
        'lon': -77.2760,
        'img': '<img src="images/jamaica.jpeg" width="100" height="50"/>'
    },
    {
        'id' :48, 
        'title':'Santa Lucia',
        'lat': 13.909444,
        'lon': -60.978893,
        'img': '<img src="images/santalucia.jpeg" width="100" height="50"/>'
    },
    {
        'id' :49,
        'title':'Saint Kitts and Nevis',
        'lat': 17.11667,
        'lon': -62.84858,
        'img': '<img src="images/stkitts.jpeg" width="100" height="50"/>'
    },
    {
        'id' :50,
        'title':'Dominica',
        'lat': 15.4239,
        'lon': -61.3601,
        'img': '<img src="images/dominica.jpeg" width="100" height="50"/>'
    },
    {
        'id' :51,
        'title':'Barbados',
        'lat': 13.193887,
        'lon': -59.543198,
        'img': '<img src="images/barbados.png" width="100" height="50"/>'
    }
]

let map = L.map('map').setView([0,0], 3);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

//create feature group
let myMarkers = L.featureGroup();


// loop through data
data.forEach(function(item, index){
    let marker = L.marker([item.lat,item.lon])
        .bindPopup(`<div>${item.title}</div>
        <img src="${item.image}" width = 100%> 
        <br> ${item.description}`)
        

    myMarkers.addLayer(marker)

    $('.sidebar').append(`<div class= "sidebar-item" 
    onclick="flyToIndex(${index})">${item.title}</div>`)

});

function flyToIndex(index){
    map.flyTo([data[index].lat, data[index].lon], 12)
}


myMarkers.addTo(map)
// define layers
let layers = {
    "My Markers": myMarkers
}

// add layer control box
L.control.layers(null,layers).addTo(map)


map.fitBounds(myMarkers.getBounds())

function flyToIndex(index){
    map.flyTo([data[index].lat,data[index].lon],12)
    myMarkers.getLayers()[index].openPopup()
}

var map = L.map('map').setView([0,-80], 2.5);
        
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);
                
        
        data.forEach(function(item){
                var marker = L.marker([item.lat, item.lon]).addTo(map)
                        .bindPopup(item.title + " " +  item.img)
                        ;});  
                        
